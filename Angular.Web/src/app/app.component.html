<app-login-status></app-login-status>


<nav class="p-3 flex gap-3 border-b">
  <a routerLink="/home">Home</a>
  <a routerLink="/protected">Protected</a>
  <a routerLink="/logout">Logout</a>
</nav>


<section class="p-4">
  <h1>Angular + Duende (Code + PKCE)</h1>


  <div *ngIf="auth.isLoggedIn(); else askLogin">
    <button (click)="loadPayments()">Call Payments API</button>
    <button (click)="loadAccounting()">Call Accounting API</button>


    <h3>Payments</h3>
    <pre>{{ payments | json }}</pre>


    <h3>Accounting</h3>
    <pre>{{ accounting | json }}</pre>


    <h3>ID Token Claims</h3>
    <pre>{{ auth.claims | json }}</pre>
  </div>
  <ng-template #askLogin>
    <p>Please login to access protected APIs.</p>
  </ng-template>
</section>

<!-- <router-outlet /> -->
